(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[935],{6181:(e,s,t)=>{Promise.resolve().then(t.bind(t,6655))},6655:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var n=t(5155),i=t(6382),l=t(4317),r=t.n(l),a=t(2115),d=t(2651),c=t(9208);let o=()=>{let[e,s]=(0,a.useState)([]),t=c.A.get("userData"),l=t?JSON.parse(t).username:void 0,o=t?JSON.parse(t).email:void 0,h=async()=>{try{let e=await d.A.get("/api/bookings");s(e.data.Logs)}catch(e){console.log("Error fetching Booking History:",e)}};return(0,a.useEffect)(()=>{"guest"!==l&&"guest"!==o&&h()},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:r().container,children:(0,n.jsxs)("div",{className:r().main,children:[(0,n.jsx)(i.default,{}),(0,n.jsx)("div",{className:r().tableDiv,children:e.length>0?(0,n.jsxs)("table",{className:r().tables,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Booking ID"}),(0,n.jsx)("th",{children:"User Name"}),(0,n.jsx)("th",{children:"Email"}),(0,n.jsx)("th",{children:"Car Name"}),(0,n.jsx)("th",{children:"Pickup Area"}),(0,n.jsx)("th",{children:"Pickup Location"}),(0,n.jsx)("th",{children:"Pincode"}),(0,n.jsx)("th",{children:"Duration"}),(0,n.jsx)("th",{children:"Pickup Date"}),(0,n.jsx)("th",{children:"Amount"}),(0,n.jsx)("th",{children:"Booking Date"})]})}),(0,n.jsx)("tbody",{children:e.map(e=>{let s=e.Rented_Days||0,t=e.Rented_Weeks||0,i=e.Rented_Months||0,l="";return l=s>0?"".concat(s," Days"):t>0?"".concat(t," Weeks"):i>0?"".concat(i," Months"):"Duration not available",(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.Booking_id}),(0,n.jsx)("td",{children:e.userName}),(0,n.jsx)("td",{children:e.email}),(0,n.jsx)("td",{children:e.CarName}),(0,n.jsx)("td",{children:e.pickupArea}),(0,n.jsx)("td",{children:e.pickupLocation}),(0,n.jsx)("td",{children:e.pincode}),(0,n.jsx)("td",{children:l}),(0,n.jsx)("td",{children:e.pickupDate}),(0,n.jsxs)("td",{children:["$",e.TotalAmount]}),(0,n.jsx)("td",{children:new Date(e["Booked At"]).toLocaleString()})]},e.Booking_id)})})]}):(0,n.jsx)("p",{style:{color:"white"},children:"No logs found."})})]})})})}},6382:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var n=t(5155),i=t(4952),l=t.n(i),r=t(7396),a=t(5565),d=t(9208);let c=()=>{let e=d.A.get("userData"),s=e?JSON.parse(e).username:"guest";return(0,n.jsxs)("div",{className:l().nav,children:[(0,n.jsxs)("div",{className:l().title,children:[(0,n.jsx)(a.default,{src:"/svg/logo.svg",alt:"logo",height:25,width:50}),(0,n.jsx)("i",{children:"Car Rental"})]}),(0,n.jsxs)("div",{className:l().items,children:["Admin"!==s&&(0,n.jsxs)(r.default,{href:"/components/HomePage",children:[" ",(0,n.jsx)("li",{children:"Home"})]}),(0,n.jsxs)(r.default,{href:"/components/Rent",children:[" ",(0,n.jsx)("li",{children:"Book Cars"})," "]}),"Admin"!==s&&(0,n.jsxs)(r.default,{href:"/components/Contact",children:[" ",(0,n.jsx)("li",{children:"Contact Us"})]}),"Admin"!==s&&(0,n.jsxs)(r.default,{href:"/components/History",children:[" ",(0,n.jsx)("li",{children:"My Bookings"})]}),"Admin"===s&&(0,n.jsxs)(r.default,{href:"/components/Admin",children:[" ",(0,n.jsx)("li",{children:"Admin"})," "]}),"Admin"===s&&(0,n.jsxs)(r.default,{href:"/components/Logs",children:[" ",(0,n.jsx)("li",{children:"All Bookings"})," "]})]}),(0,n.jsxs)("div",{className:l().items,children:[" ","User: ",s||"guest",(0,n.jsxs)(r.default,{href:"/",onClick:()=>{d.A.remove("validUserLogged"),d.A.remove("AdminLogged"),d.A.remove("userData")},children:[" ",(0,n.jsx)("button",{children:"Sign Out"})," "]})]})]})}},4317:e=>{e.exports={container:"Logs_container__l59b7",main:"Logs_main__bIPZn",tableDiv:"Logs_tableDiv__waeYj",tables:"Logs_tables__sBEYL"}},4952:e=>{e.exports={nav:"NavBar_nav__KlVRO",items:"NavBar_items__e1yni",title:"NavBar_title__E9y2Q"}}},e=>{var s=s=>e(e.s=s);e.O(0,[338,898,651,441,517,358],()=>s(6181)),_N_E=e.O()}]);